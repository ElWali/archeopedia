<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bitcoin First 100 Blocks Interactive Map</title>
  <script src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
  <link href="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.css" rel="stylesheet" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #101014;
      color: #f5f5f7;
      font-family: 'Segoe UI', Arial, sans-serif;
    }
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    h1 {
      color: #f7931a;
      text-align: center;
      margin: 2rem 0 1rem 0;
      font-size: 2.8rem;
      text-shadow: 0 1px 8px #0006;
      letter-spacing: 2px;
      font-weight: 800;
    }
    #network {
      flex: 1 1 auto;
      width: 100vw;
      max-width: 100vw;
      height: 85vh;
      border-top: 2px solid #f7931a;
      background: #18181c;
      box-shadow: 0 4px 24px #000a;
      border-radius: 12px 12px 0 0;
      margin: 0 auto;
    }
    @media (max-width: 900px) {
      h1 { font-size: 1.2rem; margin: 1rem 0 0.5rem 0; }
      #network { height: 72vh; }
    }
    .vis-tooltip {
      background: #232323 !important;
      color: #fafafa !important;
      border-radius: 8px !important;
      border: 1px solid #f7931a !important;
      font-size: 1rem !important;
      padding: 0.7em 1em !important;
      max-width: 340px;
      word-break: break-all;
      z-index: 1000;
    }
    a,a:visited { color: #f7931a; text-decoration: underline dotted; }
    a:hover { color: #ffbb58; }
  </style>
</head>
<body>
  <h1>Bitcoin First 100 Blocks Interactive Map</h1>
  <div id="network" tabindex="0" aria-label="Bitcoin Genesis to Block 99 Visualization"></div>
  <script>
    /**
     * You can update this array with more accurate/complete info per block:
     * - number, hash, timestamp, txCount, reward, output address, explorer links, etc.
     * For a demo, only some data is filled. In production, fill from a Bitcoin explorer API or dataset.
     */
    const blockData = [
      {
        number: 0,
        hash: '000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f',
        time: '2009-01-03 18:15:05',
        txCount: 1,
        reward: 50,
        address: '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
        txid: '4a5e1e4baab89f3a32518a88c31bc87f618f76673e2cc77ab2127b7afdeda33b',
        note: 'Genesis Block: "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks"',
      },
      // Block 1-99: Replace with actual data for each block.
    ];

    // Demo: Populate blockData for blocks 1-99 with sample values.
    for (let i = 1; i < 100; i++) {
      blockData.push({
        number: i,
        hash: `00000000000000...${String(i).padStart(3, '0')}`,
        time: `2009-01-${String(3 + Math.floor(i/6)).padStart(2,'0')} ${(18 + (i % 24)).toString().padStart(2,'0')}:${(i*7%60).toString().padStart(2,'0')}:00`,
        txCount: 1,
        reward: 50,
        address: '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
        txid: `txid${i}`,
        note: (i === 9) ? 'First block mined by Hal Finney' : '',
      });
    }

    // Prepare nodes and edges
    const nodes = [];
    const edges = [];

    blockData.forEach((block, idx) => {
      const label = `#${block.number}`;
      let nodeColor;
      let shape = "box";
      let title =
        `<strong>Block #${block.number}</strong><br>
        <b>Hash:</b> <a href="https://www.blockchain.com/btc/block/${block.hash}" target="_blank">${block.hash.substring(0,12)}...</a><br>
        <b>Time:</b> ${block.time}<br>
        <b>TX Count:</b> ${block.txCount}<br>
        <b>Reward:</b> ${block.reward} BTC<br>
        <b>Output:</b> <a href="https://www.blockchain.com/btc/address/${block.address}" target="_blank">${block.address.substring(0,12)}...</a><br>
        <b>TXID:</b> <a href="https://www.blockchain.com/btc/tx/${block.txid}" target="_blank">${block.txid.substring(0,12)}...</a><br>
        ${block.note ? `<b>Note:</b> ${block.note}<br>` : ''}`;

      if (block.number === 0) {
        nodeColor = { background: "#f7931a", border: "#b56d10", highlight: "#ffbb58" };
        shape = "star";
      } else if (block.number === 9) {
        nodeColor = { background: "#00b894", border: "#007e5e", highlight: "#26ffae" };
        shape = "diamond";
      } else {
        nodeColor = { background: "#404040", border: "#888", highlight: "#f7931a" };
      }

      nodes.push({
        id: block.number,
        label,
        shape,
        color: nodeColor,
        font: { color: "#fff", size: 20, face: 'Segoe UI', bold: true },
        title,
      });

      if (idx > 0) {
        edges.push({
          from: block.number - 1,
          to: block.number,
          arrows: 'to',
          color: { color: "#f7931a", highlight: "#ffbb58", opacity: 0.6 },
          label: block.reward + " BTC",
          font: { color: "#f7931a", size: 14, strokeWidth: 0, strokeColor: "#181818", face: "Segoe UI" }
        });
      }
    });

    // Network options
    const container = document.getElementById("network");
    const data = { nodes: new vis.DataSet(nodes), edges: new vis.DataSet(edges) };
    const options = {
      layout: {
        hierarchical: {
          direction: "LR",
          sortMethod: "directed",
          nodeSpacing: 70,
          treeSpacing: 300,
          levelSeparation: 60
        }
      },
      interaction: {
        hover: true,
        tooltipDelay: 60,
        zoomView: true,
        dragView: true,
        navigationButtons: true,
        keyboard: {
          enabled: true,
          speed: { x: 20, y: 20, zoom: 0.7 },
          bindToWindow: false
        },
        selectable: true,
        selectConnectedEdges: false
      },
      physics: false,
      nodes: {
        borderWidth: 2,
        shadow: true,
      },
      edges: {
        width: 2,
        smooth: {
          enabled: true,
          type: "cubicBezier",
          roundness: 0.2
        },
        shadow: false,
      },
      height: "100%",
      width: "100%",
    };

    const network = new vis.Network(container, data, options);

    // Accessibility: focus border
    container.addEventListener('focus', () => {
      container.style.boxShadow = '0 0 0 3px #f7931a';
    });
    container.addEventListener('blur', () => {
      container.style.boxShadow = '';
    });

    window.addEventListener('resize', () => network.redraw());
  </script>
</body>
</html>
