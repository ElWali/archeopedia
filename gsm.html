<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ù„Ù…ØªØ­Ø±ÙŠ Ø§Ù„Ø°ÙƒÙŠ - ØªØ­Ù„ÙŠÙ„ Ø£Ù…Ù†ÙŠ ÙˆØªÙ‚Ù†ÙŠ Ø´Ø§Ù…Ù„</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #fafafa;
      margin: 0;
      padding: 0;
      color: #212121;
      direction: rtl;
    }
    header {
      background-color: #1976d2;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.7rem;
      font-weight: 700;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    main {
      padding: 1.5rem;
      max-width: 900px;
      margin: auto;
    }
    .card {
      background: white;
      border-radius: 10px;
      padding: 1.5rem 1.8rem;
      margin-bottom: 1.8rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 0;
      color: #0d47a1;
      border-bottom: 2px solid #e3f2fd;
      padding-bottom: 0.6rem;
      font-weight: 700;
      font-size: 1.3rem;
    }
    .info-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
      font-size: 1rem;
    }
    .info-item:last-child {
      border-bottom: none;
    }
    .label {
      font-weight: 700;
      color: #455a64;
      min-width: 180px;
    }
    #canvasFingerprintImg, #audioFingerprintCanvas {
      display: block;
      margin: 10px auto 20px auto;
      border: 1px solid #ccc;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      font-size: 0.9rem;
      padding: 1rem;
      color: #666;
    }
    .note {
      font-size: 0.85rem;
      color: #999;
      text-align: center;
      margin-top: -1rem;
      margin-bottom: 1.5rem;
    }
  </style>
</head>
<body>
  <header>ğŸ•µï¸â€â™‚ï¸ Ø§Ù„Ù…ØªØ­Ø±ÙŠ Ø§Ù„Ø°ÙƒÙŠ - ØªØ­Ù„ÙŠÙ„ Ø£Ù…Ù†ÙŠ ÙˆØªÙ‚Ù†ÙŠ Ø´Ø§Ù…Ù„</header>
  <main>
    <div class="card" id="device-info">
      <h2>ğŸ–¥ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ§Ù„Ù†Ø¸Ø§Ù…</h2>
    </div>

    <div class="card" id="network-info">
      <h2>ğŸŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ø§ØªØµØ§Ù„</h2>
    </div>

    <div class="card" id="security-info">
      <h2>ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©</h2>
    </div>

    <div class="card" id="fingerprint-info">
      <h2>ğŸ¯ ÙØ­Øµ Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø±Ù‚Ù…ÙŠ (Fingerprinting)</h2>
    </div>

    <div class="card" id="performance-info">
      <h2>âš¡ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡</h2>
    </div>

    <div class="card" id="storage-info">
      <h2>ğŸ’¾ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†</h2>
    </div>
  </main>
  <footer>
    ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. Ù„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø£ÙŠ Ø®Ø§Ø¯Ù… Ø®Ø§Ø±Ø¬ÙŠ.
  </footer>

  <script>
    function addInfo(sectionId, label, value) {
      const container = document.getElementById(sectionId);
      const item = document.createElement("div");
      item.className = "info-item";
      item.innerHTML = `<span class="label">${label}</span><span>${value}</span>`;
      container.appendChild(item);
    }

    async function getBatteryInfo() {
      if ('getBattery' in navigator) {
        try {
          const battery = await navigator.getBattery();
          addInfo('device-info', 'Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©', Math.round(battery.level * 100) + '%');
          addInfo('device-info', 'ÙŠØªÙ… Ø§Ù„Ø´Ø­Ù†ØŸ', battery.charging ? 'Ù†Ø¹Ù…' : 'Ù„Ø§');
        } catch {
          addInfo('device-info', 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©', 'ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©');
        }
      } else {
        addInfo('device-info', 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©', 'ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ');
      }
    }

    function createCanvasFingerprintImage() {
      const canvas = document.createElement("canvas");
      canvas.width = 200;
      canvas.height = 50;
      const ctx = canvas.getContext("2d");
      ctx.textBaseline = "top";
      ctx.font = "14px 'Arial'";
      ctx.fillText("Fingerprint Test ğŸ¨", 2, 2);
      // Append image to fingerprint-info section
      const img = document.createElement("img");
      img.id = "canvasFingerprintImg";
      img.src = canvas.toDataURL();
      img.alt = "ØµÙˆØ±Ø© Ø¨ØµÙ…Ø© Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³";
      document.getElementById("fingerprint-info").appendChild(img);
      return canvas.toDataURL().slice(0, 50) + "...";
    }

    function createAudioFingerprintCanvas() {
      const canvas = document.createElement("canvas");
      canvas.id = "audioFingerprintCanvas";
      canvas.width = 300;
      canvas.height = 60;
      const ctx = canvas.getContext("2d");
      // Ø±Ø³Ù… Ù…ÙˆØ¬Ø© ØµÙˆØªÙŠØ© Ø¨Ø³ÙŠØ·Ø© (ØªÙ…Ø«ÙŠÙ„ÙŠØ©)
      ctx.strokeStyle = "#1976d2";
      ctx.lineWidth = 2;
      ctx.beginPath();
      for (let x = 0; x < canvas.width; x++) {
        const y = 30 + 20 * Math.sin((x / canvas.width) * 20 * Math.PI);
        if (x === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.stroke();
      document.getElementById("fingerprint-info").appendChild(canvas);
      return "ØªÙ… ØªÙˆÙ„ÙŠØ¯ ØµÙˆØ±Ø© Ø¨ØµÙ…Ø© Ø§Ù„ØµÙˆØª";
    }

    function getCSP() {
      let csp = 'ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©';
      try {
        const meta = document.querySelector("meta[http-equiv='Content-Security-Policy']");
        if (meta) csp = meta.content;
      } catch {}
      return csp;
    }

    async function collectData() {
      const nav = navigator;
      addInfo("device-info", "Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„", nav.platform);
      addInfo("device-info", "Ø§Ù„Ù…ØªØµÙØ­", nav.userAgent);
      addInfo("device-info", "Ù„ØºØ© Ø§Ù„Ø¬Ù‡Ø§Ø²", nav.language);
      addInfo("device-info", "Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©", nav.languages ? nav.languages.join(", ") : "ØºÙŠØ± Ù…ØªØ§Ø­Ø©");
      addInfo("device-info", "Ø¯Ù‚Ø© Ø§Ù„Ø´Ø§Ø´Ø©", screen.width + "Ã—" + screen.height);
      addInfo("device-info", "Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙƒØ¨ÙŠØ± (Pixel Ratio)", window.devicePixelRatio);
      addInfo("device-info", "Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†ÙˆÙŠØ© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©", nav.hardwareConcurrency || "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…");
      addInfo("device-info", "Ø°Ø§ÙƒØ±Ø© RAM ØªÙ‚Ø±ÙŠØ¨ÙŠØ© (GB)", nav.deviceMemory || "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©");
      await getBatteryInfo();

      // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©
      addInfo("network-info", "Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª", nav.onLine ? "Ù…ØªØµÙ„" : "ØºÙŠØ± Ù…ØªØµÙ„");
      addInfo("network-info", "HTTPS Ù…ÙØ¹Ù„ØŸ", location.protocol === "https:" ? "âœ… Ù†Ø¹Ù…" : "âŒ Ù„Ø§");
      if ('connection' in nav) {
        const conn = nav.connection;
        addInfo("network-info", "Ù†ÙˆØ¹ Ø§Ù„Ø§ØªØµØ§Ù„", conn.effectiveType || "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ");
        addInfo("network-info", "Ø³Ø±Ø¹Ø© Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ© (Mbps)", conn.downlink);
        addInfo("network-info", "Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (RTT ms)", conn.rtt);
        addInfo("network-info", "Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙØ¹Ù„ØŸ", conn.saveData ? "Ù†Ø¹Ù…" : "Ù„Ø§");
      } else {
        addInfo("network-info", "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©", "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©");
      }

      // Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©
      addInfo("security-info", "CORS (Cross-Origin)", typeof XMLHttpRequest !== "undefined" ? "âœ… Ù…Ø¯Ø¹ÙˆÙ…" : "âŒ ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…");
      addInfo("security-info", "CSP (Content Security Policy)", getCSP());
      addInfo("security-info", "HSTS (Strict Transport Security)", window.location.protocol === "https:" ? "Ù…ÙØ¹Ù„ Ø¹Ø§Ø¯Ø©Ù‹ (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙƒØ´Ù Ù…Ø¨Ø§Ø´Ø±Ø©)" : "ØºÙŠØ± Ù…ÙØ¹Ù„");
      addInfo("security-info", "X-Frame-Options", "Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙƒØ´Ù Ø¹Ø¨Ø± Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª");
      addInfo("security-info", "Referrer-Policy", document.referrer ? document.referrer : "ØºÙŠØ± Ù…ØªØ§Ø­");
      addInfo("security-info", "ÙƒÙˆÙƒÙŠØ² Ù…ÙØ¹Ù„Ø©ØŸ", nav.cookieEnabled ? "Ù†Ø¹Ù…" : "Ù„Ø§");
      addInfo("security-info", "Do Not Track", nav.doNotTrack || "ØºÙŠØ± Ù…ØªØ§Ø­");

      // Ø¨ØµÙ…Ø§Øª Ø§Ù„ØªØªØ¨Ø¹
      addInfo("fingerprint-info", "Canvas Fingerprint (Base64)", createCanvasFingerprintImage());
      addInfo("fingerprint-info", "Audio Fingerprint", createAudioFingerprintCanvas());

      // WebGL Fingerprint
      try {
        const canvas = document.createElement('canvas');
        const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
        const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
        const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
        const vendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
        addInfo("fingerprint-info", "GPU Renderer", renderer);
        addInfo("fingerprint-info", "GPU Vendor", vendor);
      } catch {
        addInfo("fingerprint-info", "GPU Info", "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©");
      }

      // Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (Ø¨Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©)
      if ('geolocation' in nav) {
        nav.geolocation.getCurrentPosition(pos => {
          addInfo("device-info", "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (ØªÙ‚Ø±ÙŠØ¨ÙŠ)", `Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶: ${pos.coords.latitude}, Ø®Ø· Ø§Ù„Ø·ÙˆÙ„: ${pos.coords.longitude}`);
        }, () => {
          addInfo("device-info", "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ", "ØªÙ… Ø§Ù„Ø±ÙØ¶ Ø£Ùˆ Ø®Ø·Ø£");
        });
      } else {
        addInfo("device-info", "Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ", "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…");
      }

      // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
      addInfo("performance-info", "Ø³Ø±Ø¹Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬", nav.hardwareConcurrency ? `${nav.hardwareConcurrency} Ù†ÙˆØ§Ø©` : "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…");
      addInfo("performance-info", "Ø³Ø±Ø¹Ø© Ø§Ù„Ø´Ø§Ø´Ø©", screen.refreshRate ? `${screen.refreshRate} Ù‡Ø±ØªØ²` : "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©");

      // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†
      if ('storage' in nav && 'estimate' in nav.storage) {
        nav.storage.estimate().then(estimate => {
          addInfo("storage-info", "Ø³Ø¹Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©", `${estimate.quota / (1024 * 1024)} Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª`);
          addInfo("storage-info", "Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ", `${estimate.usage / (1024 * 1024)} Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª`);
        });
      } else {
        addInfo("storage-info", "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†", "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©");
      }
    }

    collectData();
  </script>
</body>
</html>
